<html>
    <head>
        <link rel="stylesheet" type="text/css" href="gameComponents/pauseMenu.css">
        <script>
            window.pauseMenuFunctions=(function(){
                $("document").ready(function(){
                    //firstly don't show the div
                    $("#overlay").fadeOut(0);
                    $("#wrapper").fadeOut(0);

                    //set handlers
                    $("#backToGameButton").click(resumeGame);
                    $("#saveGameButton").click(saveGame);
                    $("#exitGameButton").click(exitAskGame);


                    //fade back in
                    $("#overlay").fadeTo(500,0.9);
                    $("#wrapper").fadeIn(500);
                });
                /**
                 * Hides pause menu and resumes the game
                 * @author Ignacy Debicki
                 */
                function resumeGame(){
                    removeOverlay();
                    //set multiplier to 1
                    $("#play1X").trigger("click");
                    //restart clock with delay
                    setTimeout(window.game.clockTick,500);

                }
                /**
                 * Saves the game
                 * @author Ignacy Debicki
                 */
                function saveGame(){
                    
                }
                /**
                 * Removes the pause menu overlay
                 * @author Ignacy Debicki
                 */
                function removeOverlay(){
                    $("#wrapper").fadeOut(100,function(){
                        removeElement("pauseMenu");
                    });
                }
                /**
                 * Exits the game, requires confirmation from user
                 * @author Ignacy Debicki
                 */
                function exitAskGame(){
                    console.log("exiting game");
                    if(confirm("You will lose all your progress since your last save. Are you sure you want to quit?")){
                        removeOverlay();
                        window.game.exitGame();
                    };
                }
            })();
            
            
        </script>
    </head>
    <body>
        <div id="wrapper">
            <div id="overlay"></div>
        </div>
        <div id="buttonDiv">
            <button id="backToGameButton">Back to game</button>
            <button id="saveGameButton">Save game</button>
            <button id="exitGameButton">Exit game</button>
        </div>
    </body>
</html>